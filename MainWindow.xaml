<Window x:Class="ServerLauncher.MainWindow"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        Title="Server Launcher" Height="760" Width="1180"
        Background="{StaticResource PrimaryBrush}"
        Foreground="{StaticResource TextBrush}"
        WindowStartupLocation="CenterScreen">
    
    <Grid>
        <!-- Header -->
        <Grid Height="78" VerticalAlignment="Top" Background="{StaticResource SecondaryBrush}">
            <Border BorderBrush="#1F2937" BorderThickness="0,0,0,2" VerticalAlignment="Center">
                <Grid Margin="28,14">
                    <Grid.ColumnDefinitions>
                        <ColumnDefinition Width="*"/>
                        <ColumnDefinition Width="Auto"/>
                    </Grid.ColumnDefinitions>
                    <StackPanel Orientation="Vertical">
                        <TextBlock Text="SERVER LAUNCHER" FontSize="26" FontWeight="Bold" Foreground="{StaticResource AccentBrush}"/>
                        <TextBlock x:Name="StatusText" Text="Ready" FontSize="12" Foreground="{StaticResource TextSecondaryBrush}"/>
                    </StackPanel>
                    <StackPanel Grid.Column="1" Orientation="Horizontal" VerticalAlignment="Center">
                        <Button Content="⚙ Settings" Click="OpenSettings_Click" Style="{StaticResource LaunchButton}" Padding="12,6" FontSize="12"/>
                    </StackPanel>
                </Grid>
            </Border>
        </Grid>

        <!-- Main Content -->
        <Grid Margin="0,78,0,0">
            <Grid.ColumnDefinitions>
                <ColumnDefinition Width="360"/>
                <ColumnDefinition Width="*"/>
            </Grid.ColumnDefinitions>

            <!-- Servers Panel with Scroll -->
            <Border Grid.Column="0" Background="{StaticResource SecondaryBrush}" Margin="16" BorderBrush="#1F2937" BorderThickness="1" CornerRadius="10">
                <ScrollViewer VerticalScrollBarVisibility="Auto">
                    <StackPanel Margin="18">
                        <TextBlock Text="SERVERS" FontSize="14" FontWeight="Bold" Foreground="{StaticResource AccentBrush}"/>

                        <!-- API Server Card -->
                        <Border Background="#0B1220" BorderBrush="#1F2937" BorderThickness="1" CornerRadius="8" Padding="14" Margin="0,12,0,0">
                            <StackPanel>
                                <TextBlock x:Name="ApiNameText" Text="API Server" FontSize="13" FontWeight="Bold" Foreground="{StaticResource TextBrush}"/>
                                <StackPanel Orientation="Horizontal" Margin="0,10,0,0">
                                    <Button Content="▶ Start" Click="StartApiServer_Click" Style="{StaticResource LaunchButton}" Padding="12,8" Margin="0,0,8,0"/>
                                    <Button Content="⏹ Stop" Click="StopApiServer_Click" Style="{StaticResource LaunchButton}" Background="{StaticResource ErrorBrush}" Padding="12,8"/>
                                </StackPanel>
                                <StackPanel Orientation="Horizontal" Margin="0,10,0,0" VerticalAlignment="Center">
                                    <Ellipse x:Name="ApiServerStatus" Width="12" Height="12" Fill="{StaticResource ErrorBrush}"/>
                                    <TextBlock x:Name="ApiServerStatusText" Text="Offline" FontSize="11" Foreground="{StaticResource TextSecondaryBrush}" Margin="8,0,0,0"/>
                                </StackPanel>
                            </StackPanel>
                        </Border>

                        <!-- Web Server Card -->
                        <Border Background="#0B1220" BorderBrush="#1F2937" BorderThickness="1" CornerRadius="8" Padding="14" Margin="0,12,0,0">
                            <StackPanel>
                                <TextBlock x:Name="WebNameText" Text="Web Server" FontSize="13" FontWeight="Bold" Foreground="{StaticResource TextBrush}"/>
                                <StackPanel Orientation="Horizontal" Margin="0,10,0,0">
                                    <Button Content="▶ Start" Click="StartWebServer_Click" Style="{StaticResource LaunchButton}" Padding="12,8" Margin="0,0,8,0"/>
                                    <Button Content="⏹ Stop" Click="StopWebServer_Click" Style="{StaticResource LaunchButton}" Background="{StaticResource ErrorBrush}" Padding="12,8"/>
                                </StackPanel>
                                <StackPanel Orientation="Horizontal" Margin="0,10,0,0" VerticalAlignment="Center">
                                    <Ellipse x:Name="WebServerStatus" Width="12" Height="12" Fill="{StaticResource ErrorBrush}"/>
                                    <TextBlock x:Name="WebServerStatusText" Text="Offline" FontSize="11" Foreground="{StaticResource TextSecondaryBrush}" Margin="8,0,0,0"/>
                                </StackPanel>
                            </StackPanel>
                        </Border>

                        <!-- Database Card -->
                        <Border Background="#0B1220" BorderBrush="#1F2937" BorderThickness="1" CornerRadius="8" Padding="14" Margin="0,12,0,0">
                            <StackPanel>
                                <TextBlock x:Name="DbNameText" Text="Database" FontSize="13" FontWeight="Bold" Foreground="{StaticResource TextBrush}"/>
                                <StackPanel Orientation="Horizontal" Margin="0,10,0,0">
                                    <Button Content="▶ Start" Click="StartDatabase_Click" Style="{StaticResource LaunchButton}" Padding="12,8" Margin="0,0,8,0"/>
                                    <Button Content="⏹ Stop" Click="StopDatabase_Click" Style="{StaticResource LaunchButton}" Background="{StaticResource ErrorBrush}" Padding="12,8"/>
                                </StackPanel>
                                <StackPanel Orientation="Horizontal" Margin="0,10,0,0" VerticalAlignment="Center">
                                    <Ellipse x:Name="DatabaseStatus" Width="12" Height="12" Fill="{StaticResource ErrorBrush}"/>
                                    <TextBlock x:Name="DatabaseStatusText" Text="Offline" FontSize="11" Foreground="{StaticResource TextSecondaryBrush}" Margin="8,0,0,0"/>
                                </StackPanel>
                            </StackPanel>
                        </Border>
                    </StackPanel>
                </ScrollViewer>
            </Border>

            <!-- Right Side: Output + Toggleable Settings -->
            <Grid Grid.Column="1" Margin="0,16,16,16">
                <!-- Output Panel -->
                <Border Background="{StaticResource SecondaryBrush}" BorderBrush="#1F2937" BorderThickness="1" CornerRadius="10">
                    <Grid Margin="18">
                        <Grid.RowDefinitions>
                            <RowDefinition Height="Auto"/>
                            <RowDefinition Height="*"/>
                        </Grid.RowDefinitions>

                        <TextBlock Text="OUTPUT" FontSize="14" FontWeight="Bold" Foreground="{StaticResource AccentBrush}"/>

                        <Border Grid.Row="1" Background="#0B1220" BorderBrush="#1F2937" BorderThickness="1" CornerRadius="8">
                            <ScrollViewer VerticalScrollBarVisibility="Auto">
                                <TextBlock x:Name="OutputText" 
                                           Text="[Ready]\n" 
                                           Foreground="{StaticResource AccentBrush}" 
                                           FontFamily="Consolas" 
                                           FontSize="11" 
                                           Margin="12"
                                           TextWrapping="Wrap"/>
                            </ScrollViewer>
                        </Border>
                    </Grid>
                </Border>

                <!-- Settings Overlay Panel -->
                <Border x:Name="SettingsPanel" Visibility="Collapsed" Background="{StaticResource SecondaryBrush}" BorderBrush="#1F2937" BorderThickness="1" CornerRadius="10" Margin="0" Padding="0">
                    <Grid>
                        <Grid.RowDefinitions>
                            <RowDefinition Height="Auto"/>
                            <RowDefinition Height="*"/>
                        </Grid.RowDefinitions>

                        <!-- Settings Header with Close -->
                        <Grid Background="#0B1220" Height="48" VerticalAlignment="Top" Padding="16">
                            <Grid.ColumnDefinitions>
                                <ColumnDefinition Width="*"/>
                                <ColumnDefinition Width="Auto"/>
                            </Grid.ColumnDefinitions>
                            <TextBlock Text="Settings" FontSize="14" FontWeight="Bold" Foreground="{StaticResource AccentBrush}" VerticalAlignment="Center"/>
                            <Button Grid.Column="1" Content="✖ Close" Click="CloseSettings_Click" Style="{StaticResource LaunchButton}" Padding="10,6"/>
                        </Grid>

                        <ScrollViewer Grid.Row="1" VerticalScrollBarVisibility="Auto">
                            <StackPanel Margin="18">
                                <TextBlock Text="SERVER SETTINGS" FontSize="14" FontWeight="Bold" Foreground="{StaticResource AccentBrush}"/>

                                <!-- API Settings -->
                                <Border Background="#0B1220" BorderBrush="#1F2937" BorderThickness="1" CornerRadius="8" Padding="14" Margin="0,14,0,0">
                                    <StackPanel>
                                        <TextBlock Text="API Server" FontSize="12" FontWeight="Bold" Foreground="{StaticResource TextBrush}"/>
                                        <TextBlock Text="Display Name" FontSize="11" Foreground="{StaticResource TextSecondaryBrush}" Margin="0,8,0,0"/>
                                        <TextBox x:Name="ApiNameInput" Text="API Server" Background="#0F172A" Foreground="{StaticResource TextBrush}" BorderBrush="#1F2937" Margin="0,2,0,0"/>
                                        <TextBlock Text="Executable / Script" FontSize="11" Foreground="{StaticResource TextSecondaryBrush}" Margin="0,8,0,0"/>
                                        <DockPanel Margin="0,2,0,0">
                                            <TextBox x:Name="ApiPathInput" Background="#0F172A" Foreground="{StaticResource TextBrush}" BorderBrush="#1F2937" MinWidth="200"/>
                                            <Button Content="Browse" Click="BrowseApi_Click" Style="{StaticResource LaunchButton}" Padding="10,6" Margin="8,0,0,0"/>
                                        </DockPanel>
                                    </StackPanel>
                                </Border>

                                <!-- Web Settings -->
                                <Border Background="#0B1220" BorderBrush="#1F2937" BorderThickness="1" CornerRadius="8" Padding="14" Margin="0,14,0,0">
                                    <StackPanel>
                                        <TextBlock Text="Web Server" FontSize="12" FontWeight="Bold" Foreground="{StaticResource TextBrush}"/>
                                        <TextBlock Text="Display Name" FontSize="11" Foreground="{StaticResource TextSecondaryBrush}" Margin="0,8,0,0"/>
                                        <TextBox x:Name="WebNameInput" Text="Web Server" Background="#0F172A" Foreground="{StaticResource TextBrush}" BorderBrush="#1F2937" Margin="0,2,0,0"/>
                                        <TextBlock Text="Executable / Script" FontSize="11" Foreground="{StaticResource TextSecondaryBrush}" Margin="0,8,0,0"/>
                                        <DockPanel Margin="0,2,0,0">
                                            <TextBox x:Name="WebPathInput" Background="#0F172A" Foreground="{StaticResource TextBrush}" BorderBrush="#1F2937" MinWidth="200"/>
                                            <Button Content="Browse" Click="BrowseWeb_Click" Style="{StaticResource LaunchButton}" Padding="10,6" Margin="8,0,0,0"/>
                                        </DockPanel>
                                    </StackPanel>
                                </Border>

                                <!-- Database Settings -->
                                <Border Background="#0B1220" BorderBrush="#1F2937" BorderThickness="1" CornerRadius="8" Padding="14" Margin="0,14,0,0">
                                    <StackPanel>
                                        <TextBlock Text="Database" FontSize="12" FontWeight="Bold" Foreground="{StaticResource TextBrush}"/>
                                        <TextBlock Text="Display Name" FontSize="11" Foreground="{StaticResource TextSecondaryBrush}" Margin="0,8,0,0"/>
                                        <TextBox x:Name="DbNameInput" Text="Database" Background="#0F172A" Foreground="{StaticResource TextBrush}" BorderBrush="#1F2937" Margin="0,2,0,0"/>
                                        <TextBlock Text="Executable / Script" FontSize="11" Foreground="{StaticResource TextSecondaryBrush}" Margin="0,8,0,0"/>
                                        <DockPanel Margin="0,2,0,0">
                                            <TextBox x:Name="DbPathInput" Background="#0F172A" Foreground="{StaticResource TextBrush}" BorderBrush="#1F2937" MinWidth="200"/>
                                            <Button Content="Browse" Click="BrowseDb_Click" Style="{StaticResource LaunchButton}" Padding="10,6" Margin="8,0,0,0"/>
                                        </DockPanel>
                                    </StackPanel>
                                </Border>

                                <StackPanel Orientation="Horizontal" HorizontalAlignment="Left" Margin="0,10,0,0">
                                    <Button Content="Save Settings" Click="SaveSettings_Click" Style="{StaticResource LaunchButton}" Padding="16,10" Margin="0,0,10,0"/>
                                    <TextBlock x:Name="SettingsInfo" Text="" FontSize="11" Foreground="{StaticResource TextSecondaryBrush}" VerticalAlignment="Center"/>
                                </StackPanel>
                            </StackPanel>
                        </ScrollViewer>
                    </Grid>
                </Border>
            </Grid>
        </Grid>
    </Grid>
</Window>
